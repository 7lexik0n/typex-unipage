{"version":3,"sources":["components/Editor/index.js","components/Modal/index.js","components/Navbar/index.js","components/Spinner/index.js","components/Statistic/index.js","components/App/index.js","index.js","components/Editor/editor.module.css"],"names":["Editor","props","text","position","wrongLetter","className","style","editor","slice","currentLetter","Modal","start","modalElement","hide","onButtonHandler","this","id","bootstrap","document","getElementById","show","title","body","button","tabIndex","type","data-bs-dismiss","aria-label","onClick","Component","Navbar","Spinner","role","Statistic","accuracy","speed","onRestart","App","state","attempts","corrects","mistakes","Date","finish","onKeyDownHandler","evt","key","onCorrectKeyHandler","onWrongKeyHandler","length","setState","correctKey","getSpeed","timeDiff","Math","round","getAccuracy","toFixed","speedInterval","clearInterval","setInterval","restart","updateText","target","blur","fetch","then","response","json","result","join","addEventListener","removeEventListener","editorContent","finishBody","ReactDOM","render","StrictMode","module","exports"],"mappings":"mNAEe,SAASA,EAAOC,GAAQ,IAC7BC,EAAwCD,EAAxCC,KAAMC,EAAkCF,EAAlCE,SADsB,EACYF,EAAxBG,mBADY,SAGpC,OACE,sBAAKC,UAAWC,IAAMC,OAAtB,UACGL,EAAKM,MAAM,EAAGL,GACf,sBAAME,UAAWD,EAAcE,IAAMF,YAAcE,IAAMG,cAAzD,SACGP,EAAKC,KAEPD,EAAKM,MAAML,EAAW,M,qBCRRO,E,4MASnBC,MAAQ,WACN,EAAKC,aAAaC,OAElB,EAAKZ,MAAMa,mB,uDAXb,WAAqB,IAAD,EACSC,KAAKd,MAAxBe,UADU,MACL,UADK,EAGlBD,KAAKH,aAAe,IAAIK,IAAUP,MAAMQ,SAASC,eAAeH,IAEhED,KAAKH,aAAaQ,S,oBASpB,WAAU,IAAD,EAMHL,KAAKd,MANF,IAELoB,aAFK,MAEG,cAFH,MAGLC,YAHK,MAGE,aAHF,MAILC,cAJK,MAII,KAJJ,MAKLP,UALK,MAKA,UALA,EAQP,OACE,qBAAKX,UAAU,QAAQW,GAAIA,EAAIQ,SAAS,KAAxC,SACE,qBAAKnB,UAAU,eAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BgB,IAC7B,wBACEI,KAAK,SACLpB,UAAU,YACVqB,kBAAgB,QAChBC,aAAW,aAGf,qBAAKtB,UAAU,aAAf,SACGiB,IAEH,qBAAKjB,UAAU,eAAf,SACE,wBACEoB,KAAK,SACLpB,UAAU,kBACVuB,QAASb,KAAKJ,MAHhB,SAKGY,iB,GA7CkBM,aCHpB,SAASC,EAAT,GAA4B,IAAVT,EAAS,EAATA,MAC/B,OACE,qBAAKhB,UAAU,iDAAf,SACE,qBAAKA,UAAU,kBAAf,SACE,sBAAMA,UAAU,uBAAhB,SAAwCgB,QCJjC,SAASU,IACtB,OACE,qBAAK1B,UAAU,gCAAf,SACE,qBAAKA,UAAU,8BAA8B2B,KAAK,SAAlD,SACE,sBAAM3B,UAAU,kBAAhB,4BCJO,SAAS4B,EAAUhC,GAAQ,IAAD,EACQA,EAAvCiC,gBAD+B,MACpB,EADoB,IACQjC,EAAzBkC,aADiB,MACT,EADS,EACNC,EAAcnC,EAAdmC,UAEjC,OACE,gCACE,sBAAK/B,UAAU,sBAAf,uBAAgD6B,EAAhD,OACA,sBAAK7B,UAAU,sBAAf,oBAA6C8B,EAA7C,mBACA,wBAAQV,KAAK,SAASpB,UAAU,kBAAkBuB,QAASQ,EAA3D,wBCAN,IAEqBC,E,4MACnBC,MAAQ,CACNpC,KAAK,GACLC,SAAU,EACVoC,SAAU,EACVC,SAAU,EACVC,SAAU,EACVN,MAAO,EACPxB,MAAO,IAAI+B,KACXC,QAAQ,G,EAGVC,iBAAmB,SAACC,GAAS,IAAD,EACC,EAAKP,MAAxBpC,EADkB,EAClBA,KAAMC,EADY,EACZA,SAEV0C,EAAIC,MAAQ5C,EAAKC,GACnB,EAAK4C,sBAEL,EAAKC,qB,EAITD,oBAAsB,WAAO,IAAD,EACqB,EAAKT,MAA5CpC,EADkB,EAClBA,KAAMC,EADY,EACZA,SAAUoC,EADE,EACFA,SAAUC,EADR,EACQA,SAE9BrC,IAAaD,EAAK+C,OAAS,GAC7B,EAAKN,SAGP,EAAKO,SAAS,CACZC,YAAY,EACZX,SAAUA,EAAW,EACrBD,SAAUA,EAAW,EACrBpC,SAAUA,EAAW,K,EAIzB6C,kBAAoB,WAAO,IAAD,EACmB,EAAKV,MAAxCC,EADgB,EAChBA,SAAUE,EADM,EACNA,SADM,EACIU,YAM5B,EAAKD,SAAS,CACZC,YAAY,EACZZ,SAAUA,EAAW,EACrBE,SAAUA,EAAW,K,EAIzBW,SAAW,WAAO,IAAD,EACa,EAAKd,MAAzB3B,EADO,EACPA,MAAO6B,EADA,EACAA,SACTa,GAAY,IAAIX,KAAS/B,GAAS,IAElCwB,EAAQmB,KAAKC,MAAkB,GAAXf,EAAiBa,GAE3C,EAAKH,SAAS,CAAEf,W,EAGlBqB,YAAc,WAAO,IAAD,EACqB,EAAKlB,MAD1B,IACVC,gBADU,MACC,EADD,MACIE,gBADJ,MACe,EADf,EAUlB,OANIF,EAAW,EACFE,EAAW,EAAI,IAAO,IAAMA,EAAYF,EAAW,IAEnD,GAGGkB,QAAQ,I,EAG1B9C,MAAQ,WACF,EAAK+C,eACPC,cAAc,EAAKD,eAGrB,EAAKA,cAAgBE,YAAY,EAAKR,SAAU,KAEhD,EAAKF,SAAS,CACZvC,MAAO,IAAI+B,Q,EAIfC,OAAS,WACH,EAAKe,eACPC,cAAc,EAAKD,eAGrB,EAAKR,SAAS,CACZP,QAAQ,K,EAIZkB,QAAU,SAAChB,GACT,EAAKiB,aACL,EAAKnD,QAELkC,EAAIkB,OAAOC,Q,gDAGb,WAAc,IAAD,OACXC,MAzGU,gEA0GPC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,IAAMnE,EAAOmE,EAAOC,KAAP,KAEb,EAAKpB,SAAS,CACZhD,OACAC,SAAU,EACVoC,SAAU,EACVC,SAAU,EACVC,SAAU,EACVN,MAAO,EACPxB,MAAO,IAAI+B,KACXC,QAAQ,S,+BAKhB,WACE5B,KAAK+C,aAEL5C,SAASqD,iBAAiB,WAAYxD,KAAK6B,oB,kCAG7C,WACM7B,KAAK2C,eACPC,cAAc5C,KAAK2C,eAGrBxC,SAASsD,oBAAoB,WAAYzD,KAAK6B,oB,oBAGhD,WAAU,IAAD,EACsD7B,KAAKuB,MAA1DpC,EADD,EACCA,KAAMC,EADP,EACOA,SADP,IACiBgD,kBADjB,SACoChB,EADpC,EACoCA,MAAOQ,EAD3C,EAC2CA,OAE5C8B,EAAgBvE,EACpB,cAACF,EAAD,CAAQE,KAAMA,EAAMC,SAAUA,EAAUC,aAAc+C,IAEtD,cAACpB,EAAD,IAGI2C,EAAa/B,EACjB,cAAC,EAAD,CACEtB,MAAM,UACNC,KACE,qCACE,2CAAcP,KAAKyC,cAAnB,OACA,wCAAWrB,EAAX,sBAGJZ,OAAO,UACPP,GAAG,cACHF,gBAAiBC,KAAK8C,UAEtB,KAEJ,OACE,gCACE,cAAC/B,EAAD,CAAQT,MAAM,UACd,qBAAKhB,UAAU,uBAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SAA2BoE,IAC3B,qBAAKpE,UAAU,wBAAf,SACE,cAAC4B,EAAD,CACEC,SAAUnB,KAAKyC,cACfrB,MAAOA,EACPC,UAAWrB,KAAK8C,qBAO5B,cAAC,EAAD,CACExC,MAAM,QACNC,KAAK,8BACLC,OAAO,QACPP,GAAG,aACHF,gBAAiBC,KAAKJ,QAEvB+D,S,GAzLwB7C,a,kBCEjC8C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3D,SAASC,eAAe,U,kBCd1B2D,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,8BAA8B,YAAc,+B","file":"static/js/main.de4a66c7.chunk.js","sourcesContent":["import style from \"./editor.module.css\";\n\nexport default function Editor(props) {\n  const { text, position, wrongLetter = false } = props;\n\n  return (\n    <div className={style.editor}>\n      {text.slice(0, position)}\n      <span className={wrongLetter ? style.wrongLetter : style.currentLetter}>\n        {text[position]}\n      </span>\n      {text.slice(position + 1)}\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport bootstrap from \"bootstrap/dist/js/bootstrap\";\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    const { id = \"myModal\" } = this.props;\n\n    this.modalElement = new bootstrap.Modal(document.getElementById(id));\n\n    this.modalElement.show();\n  }\n\n  start = () => {\n    this.modalElement.hide();\n\n    this.props.onButtonHandler();\n  }\n\n  render() {\n    const {\n      title = \"Modal title\",\n      body = \"Modal body\",\n      button = \"OK\",\n      id = \"myModal\",\n    } = this.props;\n\n    return (\n      <div className=\"modal\" id={id} tabIndex=\"-1\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">{title}</h5>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div className=\"modal-body\">\n              {body}\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={this.start}\n              >\n                {button}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export default function Navbar({ title }) {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n      <div className=\"container-fluid\">\n        <span className=\"navbar-brand mb-0 h1\">{title}</span>\n      </div>\n    </nav>\n  );\n}","export default function Spinner() {\n  return (\n    <div className=\"d-flex justify-content-center\">\n      <div className=\"spinner-border text-primary\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n","export default function Statistic(props) {\n  const { accuracy = 0, speed = 0, onRestart } = props;\n\n  return (\n    <div>\n      <div className=\"alert alert-primary\">Accuracy: {accuracy}%</div>\n      <div className=\"alert alert-success\">Speed: {speed} symbols/min.</div>\n      <button type=\"button\" className=\"btn btn-primary\" onClick={onRestart}>\n        Restart\n      </button>\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport Editor from \"../Editor\";\nimport Modal from \"../Modal\";\nimport Navbar from \"../Navbar\";\nimport Spinner from \"../Spinner\";\nimport Statistic from \"../Statistic\";\n\nconst TEXT_API = `https://baconipsum.com/api/?type=meat-and-filler&sentences=2`;\n\nexport default class App extends Component {\n  state = {\n    text: ``,\n    position: 0,\n    attempts: 0,\n    corrects: 0,\n    mistakes: 0,\n    speed: 0,\n    start: new Date(),\n    finish: false,\n  };\n\n  onKeyDownHandler = (evt) => {\n    const { text, position } = this.state;\n\n    if (evt.key === text[position]) {\n      this.onCorrectKeyHandler();\n    } else {\n      this.onWrongKeyHandler();\n    }\n  };\n\n  onCorrectKeyHandler = () => {\n    const { text, position, attempts, corrects } = this.state;\n\n    if (position === text.length - 1) {\n      this.finish();\n    }\n\n    this.setState({\n      correctKey: true,\n      corrects: corrects + 1,\n      attempts: attempts + 1,\n      position: position + 1,\n    });\n  };\n\n  onWrongKeyHandler = () => {\n    const { attempts, mistakes, correctKey } = this.state;\n\n    if (!correctKey) {\n      return;\n    }\n\n    this.setState({\n      correctKey: false,\n      attempts: attempts + 1,\n      mistakes: mistakes + 1,\n    });\n  };\n\n  getSpeed = () => {\n    const { start, corrects } = this.state;\n    const timeDiff = (new Date() - start) / 1000;\n\n    const speed = Math.round((corrects * 60) / timeDiff);\n\n    this.setState({ speed });\n  };\n\n  getAccuracy = () => {\n    const { attempts = 0, mistakes = 0 } = this.state;\n    let accuracy;\n\n    if (attempts > 0) {\n      accuracy = mistakes > 0 ? 100 - (100 * mistakes) / attempts : 100;\n    } else {\n      accuracy = 0;\n    }\n\n    return accuracy.toFixed(2);\n  };\n\n  start = () => {\n    if (this.speedInterval) {\n      clearInterval(this.speedInterval);\n    }\n\n    this.speedInterval = setInterval(this.getSpeed, 1000);\n\n    this.setState({\n      start: new Date(),\n    });\n  };\n\n  finish = () => {\n    if (this.speedInterval) {\n      clearInterval(this.speedInterval);\n    }\n\n    this.setState({\n      finish: true,\n    });\n  };\n\n  restart = (evt) => {\n    this.updateText();\n    this.start();\n\n    evt.target.blur();\n  };\n\n  updateText() {\n    fetch(TEXT_API)\n      .then((response) => response.json())\n      .then((result) => {\n        const text = result.join(` `);\n\n        this.setState({\n          text,\n          position: 0,\n          attempts: 0,\n          corrects: 0,\n          mistakes: 0,\n          speed: 0,\n          start: new Date(),\n          finish: false,\n        });\n      });\n  }\n\n  componentDidMount() {\n    this.updateText();\n\n    document.addEventListener(\"keypress\", this.onKeyDownHandler);\n  }\n\n  componentWillUnmount() {\n    if (this.speedInterval) {\n      clearInterval(this.speedInterval);\n    }\n\n    document.removeEventListener(\"keypress\", this.onKeyDownHandler);\n  }\n\n  render() {\n    const { text, position, correctKey = true, speed, finish } = this.state;\n\n    const editorContent = text ? (\n      <Editor text={text} position={position} wrongLetter={!correctKey} />\n    ) : (\n      <Spinner />\n    );\n\n    const finishBody = finish ? (\n      <Modal\n        title=\"Results\"\n        body={\n          <>\n            <p>Accuracy: {this.getAccuracy()}%</p>\n            <p>Speed: {speed} symbols/min.</p>\n          </>\n        }\n        button=\"RESTART\"\n        id=\"finishModal\"\n        onButtonHandler={this.restart}\n      />\n    ) : null;\n\n    return (\n      <div>\n        <Navbar title=\"TYPEX\" />\n        <div className=\"container-fluid mt-5\">\n          <div className=\"card shadow-sm\">\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"col-md-9\">{editorContent}</div>\n                <div className=\"col-md-3 border-start\">\n                  <Statistic\n                    accuracy={this.getAccuracy()}\n                    speed={speed}\n                    onRestart={this.restart}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal\n          title=\"Start\"\n          body=\"Press START to begin print!\"\n          button=\"START\"\n          id=\"startModal\"\n          onButtonHandler={this.start}\n        />\n        {finishBody}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nimport \"./index.css\";\n// import \"bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport \"bootstrap/dist/js/bootstrap.min.js\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"editor_editor__1WJbt\",\"currentLetter\":\"editor_currentLetter__ZWa8L\",\"wrongLetter\":\"editor_wrongLetter__1PFj7\"};"],"sourceRoot":""}