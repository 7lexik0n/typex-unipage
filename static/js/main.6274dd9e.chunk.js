(this.webpackJsonptypex=this.webpackJsonptypex||[]).push([[0],{40:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var s=n(1),a=n.n(s),r=n(20),c=n.n(r),i=n(3),o=n(4),d=n(6),l=n(5),j=n(7),u=n.n(j),b=n(0);function m(t){var e=t.text,n=t.position,s=t.wrongLetter,a=void 0!==s&&s;return Object(b.jsxs)("div",{className:u.a.editor,children:[e.slice(0,n),Object(b.jsx)("span",{className:a?u.a.wrongLetter:u.a.currentLetter,children:e[n]}),e.slice(n+1)]})}var p=n(21),v=n.n(p),h=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).start=function(){t.modalElement.hide(),t.props.onButtonHandler()},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.id,e=void 0===t?"myModal":t;this.modalElement=new v.a.Modal(document.getElementById(e)),this.modalElement.show()}},{key:"render",value:function(){var t=this.props,e=t.title,n=void 0===e?"Modal title":e,s=t.body,a=void 0===s?"Modal body":s,r=t.button,c=void 0===r?"OK":r,i=t.id,o=void 0===i?"myModal":i;return Object(b.jsx)("div",{className:"modal",id:o,tabIndex:"-1",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",children:n}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(b.jsx)("div",{className:"modal-body",children:a}),Object(b.jsx)("div",{className:"modal-footer",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.start,children:c})})]})})})}}]),n}(s.Component);function x(t){var e=t.title;return Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("span",{className:"navbar-brand mb-0 h1",children:e})})})}function y(){return Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}function O(t){var e=t.accuracy,n=void 0===e?0:e,s=t.speed,a=void 0===s?0:s,r=t.onRestart;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"alert alert-primary",children:["Accuracy: ",n,"%"]}),Object(b.jsxs)("div",{className:"alert alert-success",children:["Speed: ",a," symbols/min."]}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Restart"})]})}var f=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={text:"",position:0,attempts:0,corrects:0,mistakes:0,speed:0,start:new Date,finish:!1},t.onKeyDownHandler=function(e){var n=t.state,s=n.text,a=n.position;e.key===s[a]?t.onCorrectKeyHandler():t.onWrongKeyHandler()},t.onCorrectKeyHandler=function(){var e=t.state,n=e.text,s=e.position,a=e.attempts,r=e.corrects;s===n.length-1&&t.finish(),t.setState({correctKey:!0,corrects:r+1,attempts:a+1,position:s+1})},t.onWrongKeyHandler=function(){var e=t.state,n=e.attempts,s=e.mistakes;e.correctKey&&t.setState({correctKey:!1,attempts:n+1,mistakes:s+1})},t.getSpeed=function(){var e=t.state,n=e.start,s=e.corrects,a=(new Date-n)/1e3,r=Math.round(60*s/a);t.setState({speed:r})},t.getAccuracy=function(){var e=t.state,n=e.attempts,s=void 0===n?0:n,a=e.mistakes,r=void 0===a?0:a;return(s>0?r>0?100-100*r/s:100:0).toFixed(2)},t.start=function(){t.speedInterval&&clearInterval(t.speedInterval),t.speedInterval=setInterval(t.getSpeed,1e3),t.setState({start:new Date})},t.finish=function(){t.speedInterval&&clearInterval(t.speedInterval),t.setState({finish:!0})},t.restart=function(){t.updateText(),t.start()},t}return Object(o.a)(n,[{key:"updateText",value:function(){var t=this;fetch("https://baconipsum.com/api/?type=meat-and-filler&sentences=2").then((function(t){return t.json()})).then((function(e){var n=e.join(" ");t.setState({text:n,position:0,attempts:0,corrects:0,mistakes:0,speed:0,start:new Date,finish:!1})}))}},{key:"componentDidMount",value:function(){this.updateText(),document.addEventListener("keypress",this.onKeyDownHandler)}},{key:"componentWillUnmount",value:function(){this.speedInterval&&clearInterval(this.speedInterval),document.removeEventListener("keypress",this.onKeyDownHandler)}},{key:"render",value:function(){var t=this.state,e=t.text,n=t.position,s=t.correctKey,a=void 0===s||s,r=t.speed,c=t.finish,i=e?Object(b.jsx)(m,{text:e,position:n,wrongLetter:!a}):Object(b.jsx)(y,{}),o=c?Object(b.jsx)(h,{title:"Results",body:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["Accuracy: ",this.getAccuracy(),"%"]}),Object(b.jsxs)("p",{children:["Speed: ",r," symbols/min."]})]}),button:"RESTART",id:"finishModal",onButtonHandler:this.restart}):null;return Object(b.jsxs)("div",{children:[Object(b.jsx)(x,{title:"TYPEX"}),Object(b.jsx)("div",{className:"container-fluid mt-5",children:Object(b.jsx)("div",{className:"card shadow-sm",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-9",children:i}),Object(b.jsx)("div",{className:"col-md-3 border-start",children:Object(b.jsx)(O,{accuracy:this.getAccuracy(),speed:r,onRestart:this.restart})})]})})})}),Object(b.jsx)(h,{title:"Start",body:"Press START to begin print!",button:"START",id:"startModal",onButtonHandler:this.start}),o]})}}]),n}(s.Component);n(40),n(41),n(42);c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root"))},7:function(t,e,n){t.exports={editor:"editor_editor__1WJbt",currentLetter:"editor_currentLetter__ZWa8L",wrongLetter:"editor_wrongLetter__1PFj7"}}},[[43,1,2]]]);
//# sourceMappingURL=main.6274dd9e.chunk.js.map